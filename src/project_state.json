{
  "schemaVersion": "1.0.0",
  "projectStateVersion": 15,
  "summary": "NicheHub: A mobile content management and social media scheduling app that allows users to manage two niche workspaces (Travel and AI Learning), repurpose video content with AI-generated captions for multiple platforms, and schedule posts via a visual calendar. The app uses Internet Identity for authentication and provides a manual export workflow where users can generate optimized captions and prepare content for Facebook, TikTok, and Instagram, then copy/paste to each platform's native app.",
  "architectural_notes": [
    "Mobile-first responsive design optimized for on-the-go use",
    "Dark theme with minimalist, modern UI",
    "Multi-workspace architecture supporting separate media libraries per niche",
    "AI service integration for caption generation (platform-specific)",
    "Calendar-based scheduling system with drag-and-drop functionality",
    "Media upload and storage system with workspace isolation",
    "Internet Identity authentication system using passkeys/biometrics (no third-party OAuth)",
    "Manual export workflow: users copy/paste generated captions to native social media apps",
    "No direct social media API integrations (Facebook, TikTok, Instagram posting APIs not supported)",
    "Script Lab feature for specialized AI content generation with structured output formats"
  ],
  "known_issues": [
    "Video upload functionality is not working"
  ],
  "isFixRequest": true,
  "existing_features": [
    {
      "id": "feature-create-a-workspace-toggle-component-at-the-top-of-the-interface-that-allows-switching-between-travel-and-ai-learning-workspaces-the-selected-workspace-should-persist-across-sessions-and-determine-which-media-folder-is-displayed",
      "title": "Create a workspace toggle component at the top of the interface that allows switching between 'Travel' and 'AI Learning' workspaces. The selected workspace should persist across sessions and determine which media folder is displayed.",
      "reqIds": [
        "REQ-1"
      ],
      "version": 1
    },
    {
      "id": "feature-create-a-video-upload-interface-that-accepts-video-files-and-stores-them-in-the-active-workspace-s-media-folder-display-uploaded-videos-in-a-library-view-with-thumbnails",
      "title": "Create a video upload interface that accepts video files and stores them in the active workspace's media folder. Display uploaded videos in a library view with thumbnails.",
      "reqIds": [
        "REQ-3"
      ],
      "version": 1
    },
    {
      "id": "feature-add-a-repurpose-button-to-each-video-in-the-library-that-triggers-ai-caption-generation-for-facebook-instagram-and-tiktok-display-the-three-generated-captions-in-an-editable-format-with-platform-labels",
      "title": "Add a 'Repurpose' button to each video in the library that triggers AI caption generation for Facebook, Instagram, and TikTok. Display the three generated captions in an editable format with platform labels.",
      "reqIds": [
        "REQ-4"
      ],
      "version": 1
    },
    {
      "id": "feature-implement-a-visual-calendar-component-that-displays-all-scheduled-posts-with-date-and-time-information-the-calendar-should-show-posts-as-items-on-their-scheduled-dates",
      "title": "Implement a visual calendar component that displays all scheduled posts with date and time information. The calendar should show posts as items on their scheduled dates.",
      "reqIds": [
        "REQ-5"
      ],
      "version": 1
    },
    {
      "id": "feature-enable-drag-and-drop-functionality-so-users-can-drag-videos-from-the-media-library-and-drop-them-onto-specific-dates-and-times-in-the-calendar-to-schedule-posts-opening-a-time-slot-should-allow-selecting-hour-and-minute",
      "title": "Enable drag-and-drop functionality so users can drag videos from the media library and drop them onto specific dates and times in the calendar to schedule posts. Opening a time slot should allow selecting hour and minute.",
      "reqIds": [
        "REQ-6"
      ],
      "version": 1
    },
    {
      "id": "feature-create-a-post-now-button-that-immediately-publishes-the-selected-video-with-its-captions-to-all-selected-social-platforms-facebook-instagram-tiktok-display-success-or-error-feedback-for-each-platform",
      "title": "Create a 'Post Now' button that immediately publishes the selected video with its captions to all selected social platforms (Facebook, Instagram, TikTok). Display success or error feedback for each platform.",
      "reqIds": [
        "REQ-8"
      ],
      "version": 1
    },
    {
      "id": "feature-create-a-schedule-button-that-saves-the-video-captions-selected-platforms-and-chosen-date-time-as-a-scheduled-post-the-scheduled-post-should-appear-on-the-calendar",
      "title": "Create a 'Schedule' button that saves the video, captions, selected platforms, and chosen date/time as a scheduled post. The scheduled post should appear on the calendar.",
      "reqIds": [
        "REQ-9"
      ],
      "version": 1
    },
    {
      "id": "feature-apply-a-modern-minimalist-dark-themed-design-throughout-the-application-with-high-contrast-for-readability-optimize-all-ui-components-for-mobile-screen-sizes-and-touch-interactions",
      "title": "Apply a modern, minimalist, dark-themed design throughout the application with high contrast for readability. Optimize all UI components for mobile screen sizes and touch interactions.",
      "reqIds": [
        "REQ-10"
      ],
      "version": 1
    },
    {
      "id": "feature-remove-the-post-now-button-functionality-that-simulates-direct-posting-to-social-media-platforms-facebook-instagram-tiktok-replace-it-with-a-copy-captions-button-that-copies-all-generated-captions-to-the-clipboard-in-a-formatted-structure-showing-platform-names-and-their-respective-captions",
      "title": "Remove the 'Post Now' button functionality that simulates direct posting to social media platforms (Facebook, Instagram, TikTok). Replace it with a 'Copy Captions' button that copies all generated captions to the clipboard in a formatted structure showing platform names and their respective captions.",
      "reqIds": [
        "REQ-11"
      ],
      "version": 1
    },
    {
      "id": "feature-update-the-scheduled-posts-workflow-to-clarify-that-scheduling-is-for-content-planning-only-not-automated-posting-add-ui-indicators-showing-that-users-need-to-manually-post-content-at-the-scheduled-time-when-viewing-scheduled-posts-on-the-calendar-provide-a-copy-captions-action-for-each-scheduled-item",
      "title": "Update the scheduled posts workflow to clarify that scheduling is for content planning only, not automated posting. Add UI indicators showing that users need to manually post content at the scheduled time. When viewing scheduled posts on the calendar, provide a 'Copy Captions' action for each scheduled item.",
      "reqIds": [
        "REQ-12"
      ],
      "version": 1
    },
    {
      "id": "feature-remove-the-socialplatformpublisher-utility-and-all-references-to-simulated-platform-publishing-clean-up-any-success-error-handling-logic-related-to-fake-api-responses-for-social-media-posting",
      "title": "Remove the socialPlatformPublisher utility and all references to simulated platform publishing. Clean up any success/error handling logic related to fake API responses for social media posting.",
      "reqIds": [
        "REQ-13"
      ],
      "version": 1
    },
    {
      "id": "feature-add-internet-identity-authentication-to-the-application-implement-a-login-logout-flow-using-the-existing-useinternetidentity-hook-show-the-user-s-authentication-status-in-the-header-and-require-authentication-before-allowing-video-uploads-or-content-management-actions",
      "title": "Add Internet Identity authentication to the application. Implement a login/logout flow using the existing useInternetIdentity hook. Show the user's authentication status in the header and require authentication before allowing video uploads or content management actions.",
      "reqIds": [
        "REQ-14"
      ],
      "version": 1
    },
    {
      "id": "feature-add-informational-text-or-a-help-section-explaining-the-manual-export-workflow-clarify-that-nichehub-generates-ai-optimized-captions-and-helps-with-content-planning-but-users-must-manually-copy-captions-and-post-content-to-each-platform-s-native-app-at-the-scheduled-time",
      "title": "Add informational text or a help section explaining the manual export workflow. Clarify that NicheHub generates AI-optimized captions and helps with content planning, but users must manually copy captions and post content to each platform's native app at the scheduled time.",
      "reqIds": [
        "REQ-15"
      ],
      "version": 1
    },
    {
      "id": "feature-replace-the-current-video-playback-implementation-in-the-media-gallery-with-a-high-definition-video-player-component-that-supports-mp4-format-and-4k-resolution-playback-the-player-should-appear-when-a-user-clicks-on-a-video-card-and-include-standard-controls-play-pause-volume-fullscreen-seek-bar",
      "title": "Replace the current video playback implementation in the Media Gallery with a high-definition video player component that supports .mp4 format and 4K resolution playback. The player should appear when a user clicks on a video card and include standard controls (play, pause, volume, fullscreen, seek bar).",
      "reqIds": [
        "REQ-16"
      ],
      "version": 1
    },
    {
      "id": "feature-generate-and-display-a-preview-thumbnail-image-for-every-video-in-the-media-gallery-each-videocard-component-should-render-this-thumbnail-so-users-can-visually-identify-videos-before-clicking-them",
      "title": "Generate and display a preview thumbnail image for every video in the media gallery. Each VideoCard component should render this thumbnail so users can visually identify videos before clicking them.",
      "reqIds": [
        "REQ-17"
      ],
      "version": 1
    },
    {
      "id": "feature-create-a-new-script-lab-section-accessible-from-the-main-navigation-tabs-alongside-media-library-and-schedule-calendar",
      "title": "Create a new 'Script Lab' section accessible from the main navigation tabs alongside Media Library and Schedule Calendar",
      "reqIds": [
        "REQ-18"
      ],
      "version": 1
    },
    {
      "id": "feature-in-script-lab-display-all-videos-from-the-currently-active-workspace-travel-or-ai-learning-in-a-selectable-list-or-grid-format",
      "title": "In Script Lab, display all videos from the currently active workspace (Travel or AI Learning) in a selectable list or grid format",
      "reqIds": [
        "REQ-19"
      ],
      "version": 1
    },
    {
      "id": "feature-add-a-generate-itinerary-script-button-that-appears-when-a-video-is-selected-in-script-lab",
      "title": "Add a 'Generate Itinerary Script' button that appears when a video is selected in Script Lab",
      "reqIds": [
        "REQ-20"
      ],
      "version": 1
    },
    {
      "id": "feature-display-the-generated-itinerary-script-in-script-lab-with-clear-visual-separation-between-hook-body-and-cta-sections-each-section-should-be-labeled-and-formatted-for-easy-reading",
      "title": "Display the generated itinerary script in Script Lab with clear visual separation between Hook, Body, and CTA sections. Each section should be labeled and formatted for easy reading.",
      "reqIds": [
        "REQ-22"
      ],
      "version": 1
    },
    {
      "id": "feature-add-a-copy-script-button-below-the-generated-itinerary-script-that-copies-all-sections-hook-body-cta-to-the-clipboard-in-a-formatted-structure",
      "title": "Add a 'Copy Script' button below the generated itinerary script that copies all sections (Hook, Body, CTA) to the clipboard in a formatted structure",
      "reqIds": [
        "REQ-23"
      ],
      "version": 1
    },
    {
      "id": "feature-make-each-section-of-the-generated-script-hook-body-cta-editable-so-users-can-refine-the-ai-generated-content-before-copying",
      "title": "Make each section of the generated script (Hook, Body, CTA) editable so users can refine the AI-generated content before copying",
      "reqIds": [
        "REQ-24"
      ],
      "version": 1
    },
    {
      "id": "feature-debug-and-fix-the-login-button-in-the-layout-component-header-to-properly-trigger-the-internet-identity-authentication-flow-using-the-useinternetidentity-hook-s-login-function",
      "title": "Debug and fix the login button in the Layout component header to properly trigger the Internet Identity authentication flow using the useInternetIdentity hook's login function",
      "reqIds": [
        "REQ-25"
      ],
      "version": 1
    },
    {
      "id": "feature-verify-that-the-useinternetidentity-hook-s-login-function-is-properly-integrated-and-handles-errors-gracefully-with-user-feedback-via-toast-notifications",
      "title": "Verify that the useInternetIdentity hook's login function is properly integrated and handles errors gracefully with user feedback via toast notifications",
      "reqIds": [
        "REQ-26"
      ],
      "version": 1
    },
    {
      "id": "feature-debug-and-fix-the-login-to-upload-button-in-the-videoupload-component-that-is-not-triggering-the-internet-identity-authentication-flow-when-clicked-by-an-unauthenticated-user",
      "title": "Debug and fix the 'Login to Upload' button in the VideoUpload component that is not triggering the Internet Identity authentication flow when clicked by an unauthenticated user",
      "reqIds": [
        "REQ-27"
      ],
      "version": 1
    },
    {
      "id": "feature-verify-that-the-videoupload-component-properly-accesses-the-login-function-from-the-useinternetidentity-hook-and-invokes-it-when-the-login-to-upload-button-is-clicked",
      "title": "Verify that the VideoUpload component properly accesses the login function from the useInternetIdentity hook and invokes it when the 'Login to Upload' button is clicked",
      "reqIds": [
        "REQ-28"
      ],
      "version": 1
    },
    {
      "id": "feature-debug-the-videoupload-component-s-file-upload-flow-to-identify-why-video-uploads-are-not-working-verify-that-the-file-input-is-properly-bound-the-handlefileselect-function-is-correctly-invoked-on-file-selection-and-the-uploadvideo-mutation-from-usequeries-is-being-triggered-with-the-correct-parameters-file-thumbnail-workspace",
      "title": "Debug the VideoUpload component's file upload flow to identify why video uploads are not working. Verify that the file input is properly bound, the handleFileSelect function is correctly invoked on file selection, and the uploadVideo mutation from useQueries is being triggered with the correct parameters (file, thumbnail, workspace).",
      "reqIds": [
        "REQ-29"
      ],
      "version": 1
    },
    {
      "id": "feature-verify-that-the-usequeries-hook-s-uploadvideo-mutation-properly-handles-the-upload-progress-tracking-error-states-and-success-callbacks-ensure-that-react-query-s-mutation-state-updates-correctly-trigger-ui-feedback-in-the-videoupload-component",
      "title": "Verify that the useQueries hook's uploadVideo mutation properly handles the upload progress tracking, error states, and success callbacks. Ensure that React Query's mutation state updates correctly trigger UI feedback in the VideoUpload component.",
      "reqIds": [
        "REQ-31"
      ],
      "version": 1
    },
    {
      "id": "feature-add-comprehensive-error-logging-to-the-video-upload-flow-in-both-frontend-videoupload-component-and-usequeries-hook-and-backend-main-mo-uploadvideo-function-to-capture-detailed-error-information-including-file-validation-failures-network-errors-and-backend-processing-errors",
      "title": "Add comprehensive error logging to the video upload flow in both frontend (VideoUpload component and useQueries hook) and backend (main.mo uploadVideo function) to capture detailed error information including file validation failures, network errors, and backend processing errors.",
      "reqIds": [
        "REQ-32"
      ],
      "version": 1
    }
  ],
  "new_feature_requests": [
    {
      "id": "AR-1",
      "summary": "Dual workspace toggle for Travel and AI Learning niches with separate media folders",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-2",
      "summary": "AI-powered Repurpose Engine to generate platform-specific captions for Facebook, Instagram, and TikTok",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-3",
      "summary": "Visual calendar with drag-and-drop scheduling for video posts",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-6",
      "summary": "Implement separate media folder storage in the backend for each workspace ('Travel' and 'AI Learning'). Each uploaded video must be associated with the active workspace and retrievable by workspace identifier.",
      "reqIds": [
        "REQ-2"
      ],
      "status": "pending"
    },
    {
      "id": "AR-11",
      "summary": "Implement backend storage for scheduled posts including video reference, scheduled date/time, platform selections (Facebook, Instagram, TikTok), captions, and workspace association.",
      "reqIds": [
        "REQ-7"
      ],
      "status": "pending"
    },
    {
      "id": "AR-12",
      "summary": "Implement Internet Identity authentication using passkeys/biometrics",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-13",
      "summary": "Create manual export workflow for generated captions and prepared content (copy/paste to native platform apps)",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-14",
      "summary": "Fix video player: implement HD video player with .mp4 and 4K support",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-15",
      "summary": "Add preview thumbnails for all videos in the media gallery",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-16",
      "summary": "Create Script Lab section with 'Generate Itinerary Script' button for travel videos. AI generates structured content: Hook (3-second overlay text), Body (numbered 3-day itinerary), CTA ('Save for later' prompt). Use 'Travel Expert' persona with cinematic, helpful tone.",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-20",
      "summary": "Create a backend function that generates a structured travel itinerary script with three sections: Hook (3-second visual text overlay), Body (numbered 3-day itinerary), and CTA ('Save for later' prompt). Use a 'Travel Expert' persona that is cinematic and helpful in tone.",
      "reqIds": [
        "REQ-21"
      ],
      "status": "pending"
    },
    {
      "id": "AR-22",
      "summary": "Debug the backend video upload endpoint in main.mo to ensure it properly receives and stores video blobs along with their metadata (caption, thumbnail, workspace). Verify that the storeVideoBlob function correctly persists video data and returns a valid video ID.",
      "reqIds": [
        "REQ-30"
      ],
      "status": "pending"
    }
  ],
  "gameProjectType": "none",
  "projectName": "NicheHub",
  "clarification_mode": "instant",
  "clarification_rounds": 0
}